<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="adminMapper">

	<resultMap id="resultAdmin" type="Admin">
		<id property="adminNo" column="MEM_NO"/>
		<result property="gradeNo" column="GRADE_NO"/>
		<result property="adminId" column="MEM_ID"/>
		<result property="adminPw" column="MEM_PW"/>
		<result property="adminName" column="MEM_NAME"/>
		<result property="adminPhone" column="MEM_PHONE"/>
		<result property="adminEmail" column="MEM_EMAIL"/>
		<result property="adminNick" column="MEM_NICK"/>
		<result property="enrollDate" column="MEM_DATE"/>
	</resultMap>
	
	<select id="selectAdminList" resultType="hashmap">
		SELECT * FROM MEMBER
		ORDER BY MEM_NO DESC, GRADE_NO DESC
	</select>
	
	<select id="selectTotalAdmin" resultType="_int">
		SELECT COUNT(*) FROM MEMBER
	</select>
	
	<insert id="insertAdmin" parameterType="Admin">
	 	INSERT INTO MEMBER
	 	(MEM_NO, GRADE_NO, MEM_ID, MEM_PW, MEM_NAME, MEM_PHONE, MEM_EMAIL, MEM_NICK, MEM_DATE, MEM_STATE)
		VALUES 
		(MEMBER_SEQ.NEXTVAL, #{gradeNo}, #{adminId}, #{adminPw}, #{adminName}, #{adminPhone}, #{adminEmail}, #{adminName}, DEFAULT, 0) 
	</insert> 
	
	<delete id="deleteAdmin" parameterType="string">
 		DELETE FROM MEMBER WHERE
		MEM_ID = #{adminId} 
	</delete>

	<select id="selectAdmin" resultType="Admin">
		SELECT * FROM MEMBER
		WHERE MEM_ID = #{adminId}
	</select>

	<update id="updateAdmin" parameterType="Admin">
	 	UPDATE MEMBER SET
		MEM_NAME = #{adminName},
		MEM_PHONE = #{adminPhone},
		WHERE MEM_ID = #{adminId} 
	</update>
</mapper>